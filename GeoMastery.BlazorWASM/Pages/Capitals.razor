@page "/capitals"

@using GeoMastery.Domain.Models
@inject HttpClient Http

<PageTitle>Capitals of the World</PageTitle>

<h3>Capitals</h3>
@foreach(City capital in capitals)
{
    <p>@capital.Name</p>
}

@code {
    private List<City> capitals = new List<City>();

    protected override async Task OnInitializedAsync()
    {
        var capitalArray = await Http.GetFromJsonAsync<City[]>("sample-data/capitals.json");
        capitals = capitalArray.ToList<City>();
    }
}
